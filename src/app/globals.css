@tailwind base;
@tailwind components;
@tailwind utilities;

@import url('https://fonts.googleapis.com/css2?family=Host+Grotesk:ital,wght@0,300..800;1,300..800&display=swap');

@layer base {
  :root {
    /* Backgrounds - Más limpios y claros */
    --background: 0 0% 100%;
    --foreground: 222 47% 11%;

    /* Cards - Fondo blanco puro con sombras sutiles */
    --card: 0 0% 100%;
    --card-foreground: 222 47% 11%;

    /* Popovers */
    --popover: 0 0% 100%;
    --popover-foreground: 222 47% 11%;

    /* Primary - Verde vibrante #48dd0a */
    --primary: 100 87% 45%;
    --primary-foreground: 0 0% 100%;

    /* Secondary - Verde claro para backgrounds */
    --secondary: 100 87% 95%;
    --secondary-foreground: 100 87% 25%;

    /* Muted - Gris muy claro para fondos sutiles */
    --muted: 220 14% 96%;
    --muted-foreground: 220 9% 46%;

    /* Accent - Verde para estados positivos */
    --accent: 142 76% 36%;
    --accent-foreground: 0 0% 100%;

    /* Destructive - Rojo para errores */
    --destructive: 0 84% 60%;
    --destructive-foreground: 0 0% 100%;

    /* Warning - Naranja para alertas */
    --warning: 38 92% 50%;
    --warning-foreground: 0 0% 100%;

    /* Success - Verde #48dd0a para confirmaciones */
    --success: 100 87% 45%;
    --success-foreground: 0 0% 100%;

    /* Borders - Más sutiles */
    --border: 220 13% 91%;
    --input: 220 13% 91%;
    --ring: 100 87% 45%;

    /* Border radius más moderado */
    --radius: 0.75rem;

    /* Custom additions from style.css */
    --primary-green: #48dd0a;
    --transition-speed: 0.3s;
  }

  .dark {
    /* Backgrounds - Dark mode elegante */
    --background: 222 47% 11%;
    --foreground: 210 40% 98%;

    /* Cards */
    --card: 222 47% 15%;
    --card-foreground: 210 40% 98%;

    /* Popovers */
    --popover: 222 47% 15%;
    --popover-foreground: 210 40% 98%;

    /* Primary - Azul más claro para dark mode */
    --primary: 217 91% 65%;
    --primary-foreground: 222 47% 11%;

    /* Secondary */
    --secondary: 217 50% 25%;
    --secondary-foreground: 217 91% 85%;

    /* Muted */
    --muted: 217 33% 17%;
    --muted-foreground: 215 20% 65%;

    /* Accent - Verde ajustado para dark */
    --accent: 142 76% 45%;
    --accent-foreground: 222 47% 11%;

    /* Destructive */
    --destructive: 0 84% 65%;
    --destructive-foreground: 0 0% 100%;

    /* Warning */
    --warning: 38 92% 55%;
    --warning-foreground: 222 47% 11%;

    /* Success */
    --success: 142 76% 45%;
    --success-foreground: 222 47% 11%;

    /* Borders */
    --border: 217 33% 25%;
    --input: 217 33% 25%;
    --ring: 217 91% 65%;
  }
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground;
  }
}

@layer components {

  /* Sidebar transition */
  .sidebar-transition {
    transition: width 0.3s cubic-bezier(0.4, 0, 0.2, 1), margin-left 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  }

  /* Accordion Component */
  .accordion {
    @apply mb-4 border border-border rounded-2xl overflow-hidden bg-muted/30;
  }

  .accordion-header {
    @apply w-full px-5 py-3.5 flex justify-between items-center bg-card border-none cursor-pointer text-left transition-colors hover:bg-muted/50;
  }

  .accordion-title {
    @apply text-sm font-bold text-foreground flex items-center gap-2;
  }

  .accordion-icon {
    @apply text-xs transition-transform duration-300 text-muted-foreground;
  }

  .accordion-content {
    @apply max-h-0 px-5 overflow-hidden transition-all duration-300 ease-out bg-muted/30;
  }

  .accordion-content.active {
    @apply max-h-[500px] py-4 px-5;
  }

  /* Switch Component */
  .switch-group {
    @apply flex items-center justify-between mb-4;
  }

  .switch-label {
    @apply text-sm font-medium;
  }

  .switch {
    @apply relative inline-block w-12 h-6;
  }

  .switch input {
    @apply opacity-0 w-0 h-0;
  }

  .slider {
    @apply absolute cursor-pointer top-0 left-0 right-0 bottom-0 bg-gray-300 transition-all duration-300 rounded-full;
  }

  .slider:before {
    @apply absolute content-[''] h-[18px] w-[18px] left-[3px] bottom-[3px] bg-white transition-all duration-300 rounded-full;
  }

  input:checked+.slider {
    @apply bg-primary;
  }

  input:checked+.slider:before {
    @apply translate-x-6;
  }

  /* Radio Button Styles */
  .radio-group {
    @apply flex gap-5 mt-1;
  }

  .radio-item {
    @apply flex items-center gap-2 cursor-pointer text-sm font-medium;
  }

  .radio-item input[type="radio"] {
    @apply appearance-none w-[18px] h-[18px] border-2 border-gray-300 rounded-full m-0 flex items-center justify-center transition-colors;
  }

  .radio-item input[type="radio"]:checked {
    @apply border-primary;
  }

  .radio-item input[type="radio"]:after {
    @apply content-[''] w-2.5 h-2.5 rounded-full bg-primary hidden;
  }

  .radio-item input[type="radio"]:checked:after {
    @apply block;
  }

  /* Badge/Pill Component */
  .percentage-badge {
    @apply bg-success/10 text-success px-2 py-0.5 rounded-md text-xs font-bold;
  }

  /* Info Button */
  .info-btn {
    @apply bg-card border border-border px-4 py-2 rounded-full text-sm font-semibold cursor-pointer transition-all duration-300 whitespace-nowrap hover:bg-accent/10 hover:border-primary hover:-translate-y-0.5;
  }

  /* Modal Overlay */
  .modal-overlay {
    @apply fixed top-0 left-0 w-full h-full bg-black/50 flex justify-center items-center z-[1000] backdrop-blur-sm transition-opacity duration-300;
  }

  .modal-content {
    @apply bg-card w-[90%] max-w-[550px] p-8 rounded-3xl shadow-2xl animate-in fade-in slide-in-from-bottom-8 duration-300;
  }

  .modal-content h2 {
    @apply text-2xl mb-5 text-foreground font-bold;
  }

  .modal-body ul {
    @apply list-none;
  }

  .modal-body li {
    @apply mb-4 text-sm leading-relaxed relative pl-5 before:content-['•'] before:text-primary before:font-bold before:absolute before:left-0;
  }

  .modal-tip {
    @apply bg-accent/10 p-4 rounded-xl mt-5 text-sm border-l-4 border-accent;
  }

  .modal-footer {
    @apply mt-6 text-xs text-center text-muted-foreground uppercase tracking-wider;
  }

  /* Result Cards */
  .result-card {
    @apply bg-card p-4 rounded-2xl border border-border;
  }

  .result-card.full-width {
    @apply flex justify-between items-center;
  }

  .result-label {
    @apply text-xs text-muted-foreground mb-1 flex items-center gap-1.5;
  }

  .result-value {
    @apply text-lg font-bold;
  }

  .final-total .result-value {
    @apply text-primary text-2xl;
  }
}

@layer utilities {

  /* Custom utilities */
  .transition-smooth {
    transition: all var(--transition-speed) ease;
  }

  .glass-effect {
    @apply backdrop-blur-md bg-card/80 border border-border/50;
  }
}